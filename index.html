<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
      table, th, td {
      border: 1px solid black;
      width: 800px;
      height: 100px;
    }
    td {
      text-align: center;
      width:10px solid black ;
      height: 10px solid black;
      font-size: 24px;
    }
    </style>
    
</head><script>  

document.addEventListener("DOMContentLoaded", function() {
// Czekamy na wczytanie dokumentu


function updateValue(e) {
    console.log (e.target.value);
    // Wyświetlanie wartosci jaka trafi do funkcji z pól nadsłuchiwanych
}
  reset=document.getElementById("reset")
  reset.addEventListener("click",resetGame)
  tabelka.addEventListener("click",gra)
  firstMove = "X";
  numberMove = 0;
  function resetGame(e) {
  document.getElementById("p1").innerHTML = "";
  document.getElementById("p2").innerHTML = "";
  document.getElementById("p3").innerHTML = "";
  document.getElementById("p4").innerHTML = "";
  document.getElementById("p5").innerHTML = "";
  document.getElementById("p6").innerHTML = "";
  document.getElementById("p7").innerHTML = "";
  document.getElementById("p8").innerHTML = "";
  document.getElementById("p9").innerHTML = "";
  tabelka.addEventListener("click",gra)
  document.getElementById("reset").disabled=true
  numberMove=0;

  }
  function gra(e) {
    numberMove++;
    //console.log (e.target.id)
    targetId = document.getElementById(e.target.id);
    if (targetId.innerHTML == "") {
      targetId.innerHTML = firstMove; 
    
    
    if (firstMove == "X") {
    firstMove = "O";
    }
    else {
      firstMove = "X";
    }
  }
  p1=document.getElementById("p1").innerHTML;
  p2=document.getElementById("p2").innerHTML;
  p3=document.getElementById("p3").innerHTML;
  p4=document.getElementById("p4").innerHTML;
  p5=document.getElementById("p5").innerHTML;
  p6=document.getElementById("p6").innerHTML;
  p7=document.getElementById("p7").innerHTML;
  p8=document.getElementById("p8").innerHTML;
  p9=document.getElementById("p9").innerHTML;

 
 wygrana1=p1+p2+p3
 wygrana2=p4+p5+p6
 wygrana3=p7+p8+p9
 wygrana4=p1+p4+p7
 wygrana5=p2+p5+p8
 wygrana6=p3+p6+p9
 wygrana7=p1+p5+p9
 wygrana8=p3+p5+p7
 
 if (wygrana1 == "XXX"){
   console.log("wygrales X")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false

 }
 if (wygrana2 == "XXX"){
   console.log("wygrales X")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana3 == "XXX"){
   console.log("wygrales X")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana4 == "XXX"){
   console.log("wygrales X")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana5 == "XXX"){
   console.log("wygrales X")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana6 == "XXX"){
   console.log("wygrales X")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana7 == "XXX"){
   console.log("wygrales X")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana8 == "XXX"){
   console.log("wygrales X")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana1 == "OOO"){
   console.log("wygrales O")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana2 == "OOO"){
   console.log("wygrales O")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana3 == "OOO"){
   console.log("wygrales O")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana4 == "OOO"){
   console.log("wygrales O")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana5 == "OOO"){
   console.log("wygrales O")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana6 == "OOO"){
   console.log("wygrales O")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana7 == "OOO"){
   console.log("wygrales O")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false


 }
 if (wygrana8 == "OOO"){
   console.log("wygrales X")
   tabelka.removeEventListener("click",gra);
   reset.disabled=false

 }

 if (numberMove == "9"){
   reset.disabled=false

 }

  }

});

</script>

<body>    
    <table id="tabelka">
      <tr>
        <td id="p1"></td>
        <td id="p2"></td>
        <td id="p3"></td>
      </tr>
      <tr>
        <td id="p4"></td>
        <td id="p5"></td>
        <td id="p6"></td>
      </tr>
      <tr>
        <td id="p7"></td>
        <td id="p8"></td>
        <td id="p9"></td>
      </tr>
    </table>
 <button disabled="disabled" id="reset">Reset</button>
</body>
</html> 