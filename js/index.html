<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Czekamy na wczytanie dokumentu
        var input1 = document.getElementById('pole1');

        // Przypisujemy input o id pole1 do zmiennej input1
        var input2 = document.getElementById('pole2');
        // Przypisujemy input o id pole2 do zmiennej input2

        input1.addEventListener('change', updateValue);
        // Uruchamiamy updatevalue, kiedy zmieni się coś w polu1
        input2.addEventListener('change', updateValue);
        // Uruchamiamy updatevalue, kiedy zmieni się coś w polu2



        // Definiujemy funkcję, która przyjmuje 2 argumenty
        function dodawanie(liczba1, liczba2) {

            log = document.getElementById("box");
            //   Przypisujemy div o id box do zmiennej log
            console.log(liczba1);
            console.log(liczba2);
            log.textContent = liczba1 + liczba2;
            if (log.textContent == 'NaN') {
                log.textContent = "to nie jest liczba";
            }
            if (Number(log.textContent) < 300) {
                log.textContent = "ta liczba mniejsza od 300";
            } else {
                log.textContent = "ta liczba jest wieksza od 300";
            }
            // Do środka diva o id box wyswietlamy sume zmiennych
        };


        function updateValue(e) {
            console.log(e.target.value);
            // Wyświetlanie wartosci jaka trafi do funkcji z pól nadsłuchiwanych
            pole1 = parseInt(document.getElementById('pole1').value);
            // Pobieranie wartości z pola html input o id pole1 i zamiana na wartość liczbową
            pole2 = parseInt(document.getElementById('pole2').value);
            // Pobieranie wartości z pola html input o id pole2 i zamiana na wartość liczbową
            dodawanie(pole1, pole2);
            //  Wykonywanie funkcji dodawanie
        }
        tabelka.addEventListener("click", gra);
        firstMove = "x";
        numberMove = 0;
        var p = [];
        var wygrana = [];

        function gra(e) {
            numberMove++;
            console.log(e.target.id);
            targetId = document.getElementById(e.target.id);
            if (targetId.innerHTML == "") {
                targetId.innerHTML = firstMove;


                if (firstMove == "x") {
                    firstMove = "o";
                } else {
                    firstMove = "x";

                }
            }
            reset = document.getElementById("reset");
            reset.addEventListener("click", resetGame)

            function resetGame(e) {

                for (x = 1; x < 10; x++) {
                    document.getElementById("p" + x).innerHTML = "";
                }
                tabelka.addEventListener("click", gra)
                document.getElementById("reset").disabled = true;
            }

            for (x = 1; x < 10; x++) {
                p[x] = document.getElementById("p" + x).innerHTML;

            }

            // wygrana[1]=p[1]+p[2]+p[3];
            // wygrana[2]=p[4]+p[5]+p[6];
            // wygrana[3]=p[7]+p[8]+p[9];
            // wygrana[4]=p[1]+p[4]+p[7];
            // wygrana[5]=p[2]+p[5]+p[8];
            // wygrana[6]=p[3]+p[6]+p[9];
            // wygrana[7]=p[1]+p[5]+p[9];
            // wygrana[8]=p[3]+p[5]+p[7];
            // console.log(wygrana);

            function getElementP(elem, what) {
                document.getElementById("p" + elem).innerHTML = '<div style="color:#00cc00">' + what + '</div>'
            }

            function getResult(info) {
                document.getElementById("result").innerHTML = info;
            }

            function wygranaGry(x, kto, par1, par2, par3) {
                wygrana[x] = p[par1] + p[par2] + p[par3];
                if (wygrana[x] == kto) {
                    if (kto == "xxx") {
                        getElementP(par1, "x");
                        getElementP(par2, "x");
                        getElementP(par3, "x");
                        getResult("Po wielkich bojach wygrały krzyżki");
                    }
                    if (kto == "ooo") {
                        getElementP(par1, "o");
                        getElementP(par2, "o");
                        getElementP(par3, "o");
                        getResult("Po wielkich bojach wygrały kółka");
                    }
                    reset.disabled = false;
                    tabelka.removeEventListener("click", gra);

                }

            }

            wynik = [];
            wynik[1] = 'xxx';
            wynik[2] = 'ooo';

            for (x = 1; x < 3; x++) {
                wygranaGry(1, wynik[x], 1, 2, 3);
                wygranaGry(2, wynik[x], 4, 5, 6);
                wygranaGry(3, wynik[x], 7, 8, 9);
                wygranaGry(4, wynik[x], 1, 4, 7);
                wygranaGry(5, wynik[x], 2, 5, 8);
                wygranaGry(6, wynik[x], 3, 6, 9);
                wygranaGry(7, wynik[x], 1, 5, 9);
                wygranaGry(8, wynik[x], 3, 5, 7);
            }




            // wygranaGry(2,"xxx",p[4],p[],6);
            // wygranaGry(3,"xxx",7,8,9);
            // wygranaGry(4,"xxx",1,4,7);
            // wygranaGry(5,"xxx",2,5,8);
            // wygranaGry(6,"xxx",3,6,9);
            // wygranaGry(7,"xxx",1,5,9);
            // wygranaGry(8,"xxx",3,5,7);
            // wygranaGry(1,"ooo",1,2,3);
            // wygranaGry(2,"ooo",4,5,6);
            // wygranaGry(3,"ooo",7,8,9);
            // wygranaGry(4,"ooo",1,4,7);
            // wygranaGry(5,"ooo",2,5,8);
            // wygranaGry(6,"ooo",3,6,9);
            // wygranaGry(7,"ooo",1,5,9);
            // wygranaGry(8,"ooo",3,5,7);



            // if(wygrana1=="xxx"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra);
            //   for (x=1;x<4; x++) {
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">x</div>';
            //   }
            // document.getElementById("result").innerHTML = "Po wielkich bojach wygrały krzyżyki";
            // }

            // if(wygrana2=="xxx"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=4;x<7; x++) {
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">x</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały krzyżyki";
            // }


            // if(wygrana3=="xxx"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=7;x<10; x++) {
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">x</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały krzyżyki";
            // }


            // if(wygrana4=="xxx"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=1;x<8; x += 3) {
            //     console.log(x);
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">x</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały krzyżyki";
            // }


            // if(wygrana5=="xxx"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=2;x<9; x += 3) {
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">x</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały krzyżyki";
            // }


            // if(wygrana6=="xxx"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=3;x<10; x += 3) {
            //     console.log(x);
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">x</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały krzyżyki";
            // }


            // if(wygrana7=="xxx"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=1;x<10; x += 4) {
            //     console.log(x);
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">x</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały krzyżyki";
            // }


            // if(wygrana8=="xxx"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=3;x<8; x += 2) {
            //     console.log(x);
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">x</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały krzyżyki";
            // } 



            // if(wygrana1=="ooo"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=1;x<4; x++) {
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">o</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały kółka";
            // }

            // if(wygrana2=="ooo"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=4;x<7; x++) {
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">o</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały kółka";
            // }


            // if(wygrana3=="ooo"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   for (x=7;x<10; x++) {
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">o</div>';
            //   }
            //   tabelka.removeEventListener("click",gra)
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały kółka";
            // }


            // if(wygrana4=="ooo"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=1;x<8; x += 3) {
            //     console.log(x);
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">o</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały kółka";
            // }


            // if(wygrana5=="ooo"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=1;x<8; x += 3) {
            //     console.log(x);
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">o</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały kółka";
            // }


            // if(wygrana6=="ooo"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=1;x<8; x += 3) {
            //     console.log(x);
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">o</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały kółka";
            // }


            // if(wygrana7=="ooo"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=1;x<10; x += 4) {
            //     console.log(x);
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">o</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały kółka";
            // }


            // if(wygrana8=="ooo"){
            //   console.log ("wygrałeś");
            //   reset.disabled = false ;
            //   tabelka.removeEventListener("click",gra)
            //   for (x=2;x<8; x += 2) {
            //     console.log(x);
            //     document.getElementById("p"+x).innerHTML = '<div style="color:#00cc00">o</div>';
            //   }
            //   document.getElementById("result").innerHTML = "Po wielkich bojach wygrały kółka";
            // } 


            if (numberMove == 9) {
                reset.disabled = false;
                tabelka.removeEventListener("click", gra)
            }

        }




    });
</script>

<body>

    <input id="pole1" type="text" />+


    <input id="pole2" type="text" /> =
    <div id="box"></div>
    <style>
        table,
        th,
        td {
            border: 1px solid black;
            width: 800px;
            height: 100px;
        }
        
        td {
            text-align: center;
            width: 10px solid black;
            height: 10px solid black;
            font-size: 24px;
        }
    </style>
    <table id="tabelka">


        <tr>
            <td id="p1"></td>
            <td id="p2"></td>
            <td id="p3"></td>

        </tr>

        <tr>
            <td id="p4"></td>
            <td id="p5"></td>
            <td id="p6"></td>

        </tr>

        <tr>
            <td id="p7"></td>
            <td id="p8"></td>
            <td id="p9"></td>

        </tr>
        <button disabled="disabled" id="reset">reset</button>
    </table>
    <div id="result"></div>
</body>

</html>